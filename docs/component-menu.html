<!DOCTYPE HTML>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8"/>
    <title>Menu Component</title>
<style>
    /* CSS taken/inspired from https://www.w3.org/TR/wai-aria-practices-1.1/examples/menu-button/css/menuButtonAction.css */
    .menu {
        position: relative;
    }
    .menu--button:focus,
    .menu--button:hover {
        outline: 2px solid black;
    }
    .menu--list {
        margin: 0;
        padding: 0;
        position: absolute;
        font-size: 110%;
        list-style: none;
        background-color: #eee;
        display: none;
    }
    .menu--item {
        display: block;
        padding: 0.25em;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background-color: #eee;
        width: 4em;
    }
    .menu--item:focus, 
    .menu--item:hover {
        background-color: black;
        color: white;
    }

</style>
</head>
<body>
 
    <main>
        <h1>Menu Component</h1>
        <p>Examples here to test whether component meets ARIA spects. The menu component aims to copy behavior of parent Select by adding ARIA semantics defined in the <a href="https://www.w3.org/TR/wai-aria-practices-1.1/examples/menu-button/menu-button-actions-active-descendant.html">menu button aria practices</a> and the <a href="https://thiessenp.github.io/dhtml-style-guide/#menu">AOL style guide - menu</a>.</p>
    
        <hr />

        <section>
            <div class="menu" id="menu1">
                <!--
                    behavior:
                    - activates menu list on: enter, space, key down
                    - focus returns here on menu list close
                -->
                <button id="menu_button" aria-haspopup="true" aria-controls="menu_list" class="menu--button">My Menu Button</button>
                <!--
                    behavior:
                    - todo
                -->
                <ul id="menu_list" role="menu" aria-labelledby="menu_button" aria-activedescendant="menu_item_1" tabindex="0" class="menu--list">
                    <li id="menu_item_1" role="menuitem" tabindex="-1">Action 1</li>
                    <li id="menu_item_2" role="menuitem" tabindex="-1">Action 2</li>
                    <li id="menu_item_3" role="menuitem" tabindex="-1">Action 3</li>
                </ul>
            </div>
        </section> 
    </main>
        
    <hr />

    <asside aria-labelledby="notes-title">
        <h2 id="notes-title">Log of Testing</h2>
        <ul>
            <li>2021-XX: TODO</li>
        </ul>
    </asside>


    <script src="../dist/index.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('A11yWeb.Menu', A11yWeb.Menu);

            const menu1 = new A11yWeb.Menu({
                menuEL: document.querySelector('#menu1 .menu--button'), 
                listEl: document.querySelector('#menu1 .menu--list'), 
                menuItemsSelector: '#menu1 .menu--button', 
                listItemsSelector: '#menu1 .menu--list > li'
            });

            // Wire up Dialogs
            // document.querySelectorAll('[data-ayw-dialog]').forEach((containerEl, index) => {
                
            //     const dialog = new A11yWeb.Dialog({
            //         containerEl,
            //         selectorHotkeys: '[data-awy-dialog-hotkey]',
            //         selectorFocus: '[data-ayw-dialog-focus]'
            //     });
            //     document.querySelector(`#dialog-modal-${index+1}-button`).onclick = function(e) {
            //         dialog.open();
            //     };
            // });

            // // Add Hotkeys for testing
            // const globalHotkeys = A11yWeb.Hotkeys.buildGlobal({
            //     selectorHotkeys: '[data-knw-hotkeys-key]'
            // });
        });
    </script>
</body>
</html>